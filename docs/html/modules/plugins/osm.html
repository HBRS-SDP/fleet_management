

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>OSM &mdash; ropod-fms 3.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Task planner" href="task_planner.html" />
    <link rel="prev" title="Plugins" href="../../plugins.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> ropod-fms
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html"> Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fms.html"> Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../plugins.html"> Plugins</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#"> OSM</a></li>
<li class="toctree-l2"><a class="reference internal" href="task_planner.html"> Task planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="mrta.html"> MRTA</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tests.html"> Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../limitations.html"> Limitations</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ropod-fms</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../plugins.html">Plugins</a> &raquo;</li>
        
      <li>OSM</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/modules/plugins/osm.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="osm">
<h1>OSM<a class="headerlink" href="#osm" title="Permalink to this headline">¶</a></h1>
<p><em>Code author: Lakshadeep Naik &lt;<a class="reference external" href="mailto:lakshadeep&#46;naik&#37;&#52;&#48;h-brs&#46;de">lakshadeep<span>&#46;</span>naik<span>&#64;</span>h-brs<span>&#46;</span>de</a>&gt;</em></p>
<span class="target" id="module-fleet_management.plugins.osm.path_planner"></span><dl class="py class">
<dt id="fleet_management.plugins.osm.path_planner.OSMPathPlannerBuilder">
<em class="property">class </em><code class="sig-prename descclassname">fleet_management.plugins.osm.path_planner.</code><code class="sig-name descname">OSMPathPlannerBuilder</code><a class="headerlink" href="#fleet_management.plugins.osm.path_planner.OSMPathPlannerBuilder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner">
<em class="property">class </em><code class="sig-prename descclassname">fleet_management.plugins.osm.path_planner.</code><code class="sig-name descname">_OSMPathPlanner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">building</span></em>, <em class="sig-param"><span class="n">osm_bridge</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.building_ref">
<code class="sig-name descname">building_ref</code><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.building_ref" title="Permalink to this definition">¶</a></dt>
<dd><p>building name eg. ‘AMK’ or ‘BRSU’</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.local_area_finder">
<code class="sig-name descname">local_area_finder</code><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.local_area_finder" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>OBL LocalAreaFinder</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.osm_bridge">
<code class="sig-name descname">osm_bridge</code><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.osm_bridge" title="Permalink to this definition">¶</a></dt>
<dd><p>Description</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>OBL OSMBridge</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.path_planner">
<code class="sig-name descname">path_planner</code><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.path_planner" title="Permalink to this definition">¶</a></dt>
<dd><p>Description</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>OBL PathPlanner</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner._get_osm_bridge">
<em class="property">static </em><code class="sig-name descname">_get_osm_bridge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">server_ip</span></em>, <em class="sig-param"><span class="n">server_port</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner._get_osm_bridge" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.decode_planner_area">
<code class="sig-name descname">decode_planner_area</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">planner_area</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.decode_planner_area" title="Permalink to this definition">¶</a></dt>
<dd><p>OBL Path planner path consist of PlannerAreas which has local areas and exit doors. In FMS we consider door at same level as area.
This function is used to extract door from OBL PlannerArea and return it as separate area along with door</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>planner_area</strong> (<em>OBL PlannerArea</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>[FMS Area]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.get_area">
<code class="sig-name descname">get_area</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ref</span></em>, <em class="sig-param"><span class="n">get_level</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.get_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns OBL Area in FMS Area format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ref</strong> (<em>string/number</em>) – semantic or uuid</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FMS Area</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.get_estimated_path_distance">
<code class="sig-name descname">get_estimated_path_distance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_floor</span></em>, <em class="sig-param"><span class="n">destination_floor</span></em>, <em class="sig-param"><span class="n">start_area</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">destination_area</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.get_estimated_path_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns approximate path distance in meters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_floor</strong> (<em>int</em>) – start floor</p></li>
<li><p><strong>destination_floor</strong> (<em>int</em>) – destination floor</p></li>
<li><p><strong>start_area</strong> (<em>str</em>) – start area ref</p></li>
<li><p><strong>destination_area</strong> (<em>str</em>) – destination area ref</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>double</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.get_floor_name">
<code class="sig-name descname">get_floor_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">building_ref</span></em>, <em class="sig-param"><span class="n">floor_number</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.get_floor_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs FMS compatible floor names given floor number and
building ref</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>building_ref</strong> (<em>string</em>) – </p></li>
<li><p><strong>floor_number</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.get_path_plan">
<code class="sig-name descname">get_path_plan</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_floor</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">destination_floor</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">start_area</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">destination_area</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.get_path_plan" title="Permalink to this definition">¶</a></dt>
<dd><p>Plans path using A* and semantic info in in OSM</p>
<p>Either start_local_area or robot_position is required
Either destination_local_area or destination_task id required
(Destination_task currently works on assumption that only single
docking,undocking,charging etc. exist in
OSM world model for specified area)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_floor</strong> (<em>int</em>) – start floor</p></li>
<li><p><strong>destination_floor</strong> (<em>int</em>) – destination floor</p></li>
<li><p><strong>start_area</strong> (<em>str</em>) – start area ref</p></li>
<li><p><strong>destination_area</strong> (<em>str</em>) – destination area ref</p></li>
<li><p><strong>start_local_area</strong> (<em>str</em><em>, </em><em>optional</em>) – start sub area ref</p></li>
<li><p><strong>destination_local_area</strong> (<em>str</em><em>, </em><em>optional</em>) – destination sub area ref</p></li>
<li><p><strong>robot_position</strong> (<em>[</em><em>double</em><em>,</em><em>double</em><em>]</em><em>, </em><em>optional</em>) – either in x,y or lat,lng coordinate system</p></li>
<li><p><strong>destination_task</strong> (<em>string</em><em>,</em><em>optional</em>) – task to be performed at destination eg. docking, undocking etc.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>[FMS Area]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.get_path_plan_from_local_area">
<code class="sig-name descname">get_path_plan_from_local_area</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_local_area</span></em>, <em class="sig-param"><span class="n">destination_local_area</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.get_path_plan_from_local_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Plans path similar to <cite>get_path_plan</cite> but only needs start and
destination local area</p>
<dl class="field-list simple">
<dt class="field-odd">Start_local_area</dt>
<dd class="field-odd"><p>int or str</p>
</dd>
<dt class="field-even">Destination_local_area</dt>
<dd class="field-even"><p>int or str</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of FMS Area</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.get_sub_area">
<code class="sig-name descname">get_sub_area</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ref</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.get_sub_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns OBL local area in FMS SubArea format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref</strong> (<em>string/number</em>) – semantic or uuid</p></li>
<li><p><strong>behaviour</strong> – SubArea will be searched based on specified behaviour (inside specified Area scope)</p></li>
<li><p><strong>robot_position</strong> – SubArea will be searched based on robot position (inside specified Area scope)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FMS SubArea</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.obl_to_fms_area">
<code class="sig-name descname">obl_to_fms_area</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">osm_wm_area</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.obl_to_fms_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts OBL area to FMS area</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>osm_wm_area</strong> (<em>OBL Area</em>) – eg. rooms, corridor, elevator etc.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FMS area</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.obl_to_fms_subarea">
<code class="sig-name descname">obl_to_fms_subarea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">osm_wm_local_area</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.obl_to_fms_subarea" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts OBL to FMS subarea</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>osm_wm_local_area</strong> (<em>OBL LocalArea</em>) – eg. charging, docking,
undocking areas</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FMS SubArea</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.overpass_server_config">
<em class="property">classmethod </em><code class="sig-name descname">overpass_server_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">server_ip</span></em>, <em class="sig-param"><span class="n">server_port</span></em>, <em class="sig-param"><span class="n">building</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.overpass_server_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.set_building">
<code class="sig-name descname">set_building</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ref</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.set_building" title="Permalink to this definition">¶</a></dt>
<dd><p>Setter function to switch to different building after initialisation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ref</strong> (<em>string</em>) – building ref</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.set_coordinate_system">
<code class="sig-name descname">set_coordinate_system</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coordinate_system</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.set_coordinate_system" title="Permalink to this definition">¶</a></dt>
<dd><p>Set coordinate system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>coordinate_system</strong> (<em>string</em>) – ‘spherical’ / ‘coordinate’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fleet_management.plugins.osm.path_planner._OSMPathPlanner.task_to_behaviour">
<code class="sig-name descname">task_to_behaviour</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fleet_management.plugins.osm.path_planner._OSMPathPlanner.task_to_behaviour" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert FMS task to behaviours modelled in OSM world model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>task</strong> (<em>string</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Maybe string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="task_planner.html" class="btn btn-neutral float-right" title="Task planner" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../plugins.html" class="btn btn-neutral float-left" title="Plugins" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, Argentina Ortega Sainz

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>